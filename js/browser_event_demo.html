<canvas width="500" height="500"></canvas>
<script type="module">
  const canvas = document.querySelector("canvas")
  const ctx = canvas.getContext("2d")
  let drawing = false
  canvas.style.border = "2px solid purple"
  canvas.addEventListener("mousedown", e => {
    drawing = true
    ctx.moveTo(e.offsetX, e.offsetY)
  })
  canvas.addEventListener("mousemove", e => {
    if (drawing) {
      ctx.lineTo(e.offsetX, e.offsetY)
      ctx.stroke()
    }
  })
  const stopDrawing = e => (drawing = false)
  canvas.addEventListener("mouseup", stopDrawing)
  canvas.addEventListener("mouseout", stopDrawing)
</script>
